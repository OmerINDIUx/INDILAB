<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <title>Menu con logo correcto</title>

    <!-- ✅ CSS del menú -->
    <link id="menu-css" rel="stylesheet" href="/css/components/menu-header.css" />

    <!-- ✅ GSAP -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollTrigger.min.js"></script>

    <!-- ✅ Traducción -->
    <script type="module" src="/js/demo4/traduction.js"></script>

    <style>
      /* ==============================
         LOGO SECUNDARIO (dentro del header)
      =============================== */
      #site-header {
        position: relative;
        z-index: 0; /* contexto base compartido */
      }

      .secundary-brand {
        all: unset;
        position: fixed;
        top: 1rem;
        left: 1rem;
        z-index: 10; /* debajo del menú */
        background: transparent;
        pointer-events: none;
        width: 80px;
        max-width: 80px;
      }

      .secundary-brand img {
        width: 100%;
        height: auto;
        display: block;
        pointer-events: auto;
      }

      .INDI path {
        fill: #1a1a1a;
      }

      .LAB path {
        fill: #1a1a1a;
      }

      .colorkey path {
        fill: rgb(226, 70, 43);
      }

      /* ==============================
         MENÚ FULLSCREEN
      =============================== */



      /* ==============================
         BOTÓN DE CIERRE Y BOTONES LATERALES
      =============================== */
 
  


      /* ==============================
         CUANDO EL MENÚ ESTÁ ABIERTO
      =============================== */

    </style>
  </head>

  <body>
    <header id="site-header">
      <!-- ✅ Logo secundario dentro del header -->
      <a href="index.html" class="secundary-brand"></a>

      <!-- ✅ Placeholder del menú -->
      <div class="menu-placeholder" id="menu-placeholder"></div>
    </header>

    <script>
      // === Cargar SVG del logo ===
      const container = document.querySelector(".secundary-brand");
      fetch("/svg/indi-lab_Vertical_Animate.svg")
        .then((response) => response.text())
        .then((svgText) => {
          container.innerHTML = svgText;
        })
        .catch((err) => console.error("Error cargando SVG:", err));

      // === Cargar el menú ===
      fetch("/menu.html")
        .then((response) => {
          if (!response.ok) {
            throw new Error(`Error al cargar el menú: ${response.status} ${response.statusText}`);
          }
          return response.text();
        })
        .then((data) => {
          const placeholder = document.getElementById("menu-placeholder");
          if (!placeholder) throw new Error("Elemento 'menu-placeholder' no encontrado");
          placeholder.innerHTML = data;

          // Cargar script del menú
          const script = document.createElement("script");
          script.src = "/js/demo4/menu.js";
          script.onload = () => console.log("menu.js cargado correctamente ✅");
          script.onerror = () => console.error("Error al cargar /js/demo4/menu.js ❌");
          document.body.appendChild(script);

          // Aplicar traducción si está lista
          if (window.applyTranslations) window.applyTranslations();
        })
        .catch((error) => console.error("Error al cargar el menú:", error));
    </script>
  </body>
</html>
